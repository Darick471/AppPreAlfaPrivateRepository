<Page
    x:Class="AppPreAlfa.Views.Login.ToptStepView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:AppPreAlfa.Views.Login"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="auto"/>
        </Grid.ColumnDefinitions>

        <StackPanel Grid.Row="1"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Spacing="16">


            <TextBlock FontStyle="Normal" Text="Escribe el código de un solo uso de tu app TOPT"
                    FontSize="14"
                    FontFamily="Arial"
                    FontWeight="ExtraBold"
                    HorizontalTextAlignment="Center"
                    Margin="0,100,0,100"
                    Foreground="Black" />
            <StackPanel
                    Grid.Row="1"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Spacing="10"
                    Orientation="Horizontal">

                <TextBox
                        x:Name="TextBox1"
                        Grid.Column="0"
                        Background="White"
                        BorderBrush="White"
                        Height="70"
                        Width="50"
                        MaxLength="1"
                        FontSize="28"
                        InputScope="Number"
                        HorizontalAlignment="Center"
                        Margin=" 0,0,0,0"
                        Text="{Binding CodeParts[0], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                        Style="{StaticResource MaterialFilledPasswordBoxStyle}"
                        AutomationProperties.AutomationId="TextBox_Default_Placeholder_Material" />
                <TextBox
                        x:Name="TextBox2"
                        Grid.Column="0"
                        Background="White"
                        BorderBrush="White"
                        Height="70"
                        Width="50"
                        MaxLength="1"
                        FontSize="28"
                        InputScope="Number"
                        HorizontalAlignment="Center"
                        Margin=" 0,0,0,0"
                        Text="{Binding CodeParts[1], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                        Style="{StaticResource MaterialFilledPasswordBoxStyle}"
                        AutomationProperties.AutomationId="TextBox_Default_Placeholder_Material" />
                <TextBox
                        x:Name="TextBox3"
                        Grid.Column="0"
                        Background="White"
                        BorderBrush="White"
                        Height="70"
                        Width="50"
                        FontSize="28"
                        InputScope="Number"                        
                        MaxLength="1"
                        HorizontalAlignment="Center"
                        Margin=" 0,0,0,0"
                        Text="{Binding CodeParts[2], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                        Style="{StaticResource MaterialFilledPasswordBoxStyle}"
                        AutomationProperties.AutomationId="TextBox_Default_Placeholder_Material" />
                <TextBox
                        x:Name="TextBox4"
                        Grid.Column="0"
                        Background="White"
                        BorderBrush="White"
                        Height="70"
                        Width="50"
                        FontSize="28"
                        InputScope="Number"
                        MaxLength="1"
                        HorizontalAlignment="Center"
                        Margin=" 0,0,0,0"
                        Text="{Binding CodeParts[3], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                        Style="{StaticResource MaterialFilledPasswordBoxStyle}"
                        AutomationProperties.AutomationId="TextBox_Default_Placeholder_Material" />
                <TextBox
                        x:Name="TextBox5"
                        Grid.Column="0"
                        Background="White"
                        BorderBrush="White"
                        Height="70"
                        Width="50"
                        FontSize="28"
                        InputScope="Number"
                        MaxLength="1"
                        HorizontalAlignment="Center"
                        Margin=" 0,0,0,0"
                        Text="{Binding CodeParts[4], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                        Style="{StaticResource MaterialFilledPasswordBoxStyle}"
                        AutomationProperties.AutomationId="TextBox_Default_Placeholder_Material" />
                <TextBox
                        x:Name="TextBox6"
                        Grid.Column="0"
                        Background="White"
                        BorderBrush="White"
                        Height="70"
                        Width="50"
                        FontSize="28"
                        InputScope="Number"
                        MaxLength="1"
                        HorizontalAlignment="Center"
                        Margin=" 0,0,0,0"
                        Text="{Binding CodeParts[5], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                        Style="{StaticResource MaterialFilledPasswordBoxStyle}"
                        AutomationProperties.AutomationId="TextBox_Default_Placeholder_Material" />

                <!-- Pendiente de recuperar el TextChanged o equivalente en el contexto actual -->

            </StackPanel>
            <TextBlock
                    x:Name="toptcodeMismatchWarning"
                    Text="{Binding WarningMessage}"
                    Foreground="Red"
                    FontSize="12"
                    Visibility="{Binding WarningMessage, Converter={StaticResource StringToVisibilityConverter}}"
                    Margin="0,0,0,0"
                    TextWrapping="WrapWholeWords"
                    HorizontalAlignment="Left" />

            <Button
                x:Name="IniciarSesionButton"
                Margin="10, 50 ,8 ,8"
                CornerRadius="5"
                Height="50"
                Width="350"
                HorizontalAlignment="Center"
                Content="Iniciar sesión"
                Command="{Binding ValidateToptCommand}"
                FontSize="16"/>

            <TextBlock
                    FontStyle="Normal"
                    FontFamily="Arial"
                    Text="Al iniciar sesión aceptas nuestro aviso de &#x0a;privacidad y los terminos de uso"
                    TextAlignment="Center"
                    FontSize="10"
                    FontWeight="ExtraBold"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Bottom"
                    Margin="0,190,0,0"
                    Foreground="Gray" />

        </StackPanel>

    </Grid>
    
</Page>
